<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>D-Rex AI | Zenith v48</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&family=Fira+Code:wght@400;500&display=swap');
        :root { --bg: #020617; --accent: #6366f1; --card: #0f172a; --premium: #f59e0b; }
        body { background: var(--bg); color: #f1f5f9; font-family: 'Plus Jakarta Sans', sans-serif; height: 100dvh; display: flex; overflow: hidden; margin: 0; }
        
        /* Matrix Background */
        #matrix { position: fixed; inset: 0; pointer-events: none; opacity: 0.1; z-index: 0; }

        /* UI Containers */
        .glass { background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(25px); border: 1px solid rgba(255,255,255,0.05); }
        .sidebar { width: 300px; border-right: 1px solid rgba(255,255,255,0.05); z-index: 100; transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); display: flex; flex-direction: column; padding: 20px; }
        @media (max-width: 1024px) { .sidebar { position: fixed; inset-y: 0; left: 0; transform: translateX(-100%); } .sidebar.open { transform: translateX(0); box-shadow: 20px 0 60px rgba(0,0,0,0.9); } }

        /* Stylish D Logo */
        .d-logo { font-family: 'Fira Code', monospace; font-size: 2rem; font-weight: 800; color: white; position: relative; display: inline-block; animation: logoFade 1s ease-out; }
        .d-logo::before { content: 'D'; position: absolute; inset: 0; color: var(--accent); filter: blur(10px); animation: logoGlow 2s infinite alternate; }
        @keyframes logoFade { from { opacity: 0; transform: scale(0.5) rotate(-180deg); } to { opacity: 1; transform: scale(1) rotate(0deg); } }
        @keyframes logoGlow { from { opacity: 0.5; filter: blur(5px); } to { opacity: 1; filter: blur(15px); } }

        /* Chat Styling */
        #chatBox { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 24px; z-index: 1; scroll-behavior: smooth; }
        .msg { position: relative; max-width: 85%; animation: msgFade 0.3s ease; display: flex; flex-direction: column; }
        .msg-user { align-self: flex-end; }
        .msg-bot { align-self: flex-start; width: 100%; }
        
        .bubble { padding: 14px 22px; border-radius: 22px; font-size: 0.95rem; line-height: 1.6; position: relative; box-shadow: 0 4px 20px rgba(0,0,0,0.2); }
        .msg-user .bubble { background: var(--accent); color: white; border-bottom-right-radius: 4px; }
        .msg-bot .bubble { background: var(--card); color: #e2e8f0; border-bottom-left-radius: 4px; border: 1px solid rgba(255,255,255,0.05); }

        /* NEW: API Group & Voice UI */
        .api-panel { background: rgba(255,255,255,0.03); border: 1px solid var(--premium); border-radius: 15px; padding: 15px; margin-top: 20px; }
        .api-input { background: #1e293b; border: 1px solid #334155; color: white; padding: 8px; border-radius: 8px; width: 100%; font-size: 12px; margin-bottom: 10px; outline: none; }
        .voice-select { background: #1e293b; color: white; border: 1px solid #334155; border-radius: 8px; padding: 8px; width: 100%; font-size: 12px; cursor: pointer; }

        /* Media Download Button */
        .download-link { background: #10b981; color: white; padding: 8px 16px; border-radius: 8px; display: inline-flex; align-items: center; gap: 8px; font-size: 13px; margin-top: 10px; transition: 0.2s; }
        .download-link:hover { opacity: 0.9; transform: translateY(-1px); }

        @keyframes msgFade { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <canvas id="matrix"></canvas>

    <aside class="sidebar glass">
        <div class="d-logo mb-6">D</div>
        <div class="text-xl font-bold mb-1">Zenith v48</div>
        <p class="text-xs text-slate-500 mb-8">Adaptive AI Interface</p>

        <div class="mb-6">
            <label class="text-[10px] uppercase tracking-widest text-slate-400 font-bold mb-2 block">AI Voice Engine</label>
            <select id="voiceEngine" class="voice-select"></select>
        </div>

        <div class="api-panel">
            <label class="text-[10px] uppercase tracking-widest text-amber-500 font-bold mb-3 block"><i class="fa-solid fa-shuttle-space mr-2"></i>API Gateways</label>
            <input type="password" id="imgApi" class="api-input" placeholder="Image API Key (Premium)">
            <input type="password" id="vidApi" class="api-input" placeholder="Video API Key (Hacker)">
            <p class="text-[9px] text-slate-500">Keys only active in Authorized Modes.</p>
        </div>
    </aside>

    <main class="flex-1 flex flex-col relative">
        <div id="chatBox">
            <div class="msg msg-bot">
                <div class="bubble">System Online. D-Rex AI तैयार है। आप इमेज या वीडियो जनरेट करने के लिए बोल सकते हैं।</div>
            </div>
        </div>

        <div class="p-6 glass border-t border-slate-800">
            <div class="max-w-4xl mx-auto">
                <div class="flex gap-4 items-center">
                    <input type="text" id="userInput" placeholder="Type your message or command..." class="flex-1 bg-slate-900/50 border border-slate-700 rounded-2xl px-6 py-4 outline-none focus:border-indigo-500 transition">
                    <button onclick="sendMessage()" class="bg-indigo-600 hover:bg-indigo-500 w-14 h-14 rounded-2xl flex items-center justify-center transition shadow-lg shadow-indigo-500/20">
                        <i class="fa-solid fa-paper-plane"></i>
                    </button>
                </div>
                <div class="flex gap-4 mt-3 px-2">
                    <button onclick="triggerAction('image')" class="text-xs text-indigo-400 hover:text-white transition"><i class="fa-solid fa-image mr-1"></i> Generate Image</button>
                    <button onclick="triggerAction('video')" class="text-xs text-rose-400 hover:text-white transition"><i class="fa-solid fa-film mr-1"></i> Generate Video</button>
                </div>
            </div>
        </div>
    </main>

    <script>
        // --- Voice Logic ---
        let synth = window.speechSynthesis;
        let voices = [];
        const voiceEngine = document.getElementById('voiceEngine');

        function loadVoices() {
            voices = synth.getVoices();
            voiceEngine.innerHTML = voices.map((v, i) => `<option value="${i}">${v.name}</option>`).join('');
        }
        if (speechSynthesis.onvoiceschanged !== undefined) { speechSynthesis.onvoiceschanged = loadVoices; }

        function speak(text) {
            if (synth.speaking) synth.cancel();
            let utter = new SpeechSynthesisUtterance(text);
            utter.voice = voices[voiceEngine.value];
            synth.speak(utter);
        }

        // --- Chat Logic ---
        const chatBox = document.getElementById('chatBox');
        const userInput = document.getElementById('userInput');

        function addMessage(content, type = 'bot') {
            const msgDiv = document.createElement('div');
            msgDiv.className = `msg msg-${type}`;
            msgDiv.innerHTML = `<div class="bubble">${content}</div>`;
            chatBox.appendChild(msgDiv);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        function sendMessage() {
            const text = userInput.value.trim();
            if (!text) return;
            addMessage(text, 'user');
            userInput.value = '';
            
            setTimeout(() => {
                const reply = "Processing command... क्या आप इस प्रॉम्ट के लिए इमेज जनरेट करना चाहते हैं?";
                addMessage(reply, 'bot');
                speak(reply);
            }, 800);
        }

        function triggerAction(action) {
            const prompt = userInput.value || "A futuristic masterpiece";
            addMessage(`Initiating ${action} generation for: "${prompt}"...`, 'bot');

            // Simulation of Real-time Generation
            setTimeout(() => {
                if(action === 'image') {
                    const mockImg = `https://picsum.photos/seed/${Date.now()}/800/600`;
                    const content = `
                        <p>Image Generation Complete:</p>
                        <img src="${mockImg}" class="rounded-xl mt-3 mb-2 border border-slate-700 shadow-2xl">
                        <a href="${mockImg}" download="DRex_Zenith_${Date.now()}.jpg" target="_blank" class="download-link">
                            <i class="fa-solid fa-download"></i> Download Image
                        </a>
                    `;
                    addMessage(content, 'bot');
                    speak("इमेज सफलतापूर्वक जनरेट हो गई है।");
                } else {
                    addMessage("Video Generation (Veo) शुरू हो गया है। हैकर मोड एक्टिव है।", 'bot');
                    speak("वीडियो जनरेशन पाइपलाइन शुरू हो गई है।");
                }
            }, 2500);
        }

        // --- Matrix Effect ---
        const canvas = document.getElementById('matrix');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        const letters = "01";
        const fontSize = 14;
        const columns = canvas.width / fontSize;
        const drops = Array(Math.floor(columns)).fill(1);

        function drawMatrix() {
            ctx.fillStyle = "rgba(2, 6, 23, 0.05)";
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "#6366f1";
            ctx.font = fontSize + "px monospace";
            for (let i = 0; i < drops.length; i++) {
                const text = letters[Math.floor(Math.random() * letters.length)];
                ctx.fillText(text, i * fontSize, drops[i] * fontSize);
                if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
                drops[i]++;
            }
        }
        setInterval(drawMatrix, 50);

        window.onload = loadVoices;
    </script>
</body>
</html>
