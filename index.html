<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>D-Rex AI | Zenith v48</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&family=Fira+Code:wght@400;500&display=swap');
        :root { --bg: #020617; --accent: #6366f1; --card: #0f172a; --premium: #f59e0b; }
        body { background: var(--bg); color: #f1f5f9; font-family: 'Plus Jakarta Sans', sans-serif; height: 100dvh; display: flex; overflow: hidden; margin: 0; }
        
        /* Glass UI */
        .glass { background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(25px); border: 1px solid rgba(255,255,255,0.05); }
        .sidebar { width: 320px; border-right: 1px solid rgba(255,255,255,0.1); display: flex; flex-direction: column; padding: 20px; z-index: 100; }
        
        /* Main Chat Area */
        #mainChat { flex: 1; display: flex; flex-direction: column; position: relative; }
        #chatBox { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 20px; scroll-behavior: smooth; }
        
        /* Message Bubbles */
        .bubble { max-width: 85%; padding: 12px 18px; border-radius: 18px; line-height: 1.5; }
        .msg-user { align-self: flex-end; background: var(--accent); color: white; border-bottom-right-radius: 4px; }
        .msg-bot { align-self: flex-start; background: var(--card); border: 1px solid rgba(255,255,255,0.05); border-bottom-left-radius: 4px; }

        /* API Group Styling */
        .api-group { background: rgba(255,255,255,0.03); border: 1px dashed var(--premium); border-radius: 12px; padding: 15px; margin-top: 10px; }
        input { background: #1e293b !important; border: 1px solid #334155 !important; color: white !important; font-size: 0.85rem; }
        
        /* Download Button */
        .download-btn { background: #22c55e; color: white; padding: 6px 12px; border-radius: 6px; font-size: 0.8rem; display: inline-flex; align-items: center; gap: 5px; margin-top: 10px; transition: 0.3s; }
        .download-btn:hover { background: #16a34a; }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }
    </style>
</head>
<body>

    <aside class="sidebar glass">
        <div class="mb-8">
            <h1 class="text-2xl font-extrabold tracking-tighter italic">D-REX <span class="text-indigo-500">AI</span></h1>
            <p class="text-xs text-slate-500">Zenith v48 Premium</p>
        </div>

        <div class="mb-6">
            <label class="text-xs font-bold uppercase text-slate-400 mb-2 block"><i class="fa-solid fa-microphone-lines mr-2"></i>Select AI Voice</label>
            <select id="voiceList" class="w-full bg-slate-800 border border-slate-700 rounded-lg p-2 text-sm text-white outline-none focus:border-indigo-500">
                </select>
        </div>

        <div class="api-group">
            <label class="text-xs font-bold text-amber-500 uppercase mb-2 block"><i class="fa-solid fa-bolt mr-2"></i>API Configuration</label>
            <input type="password" id="imgKey" placeholder="Image Gen API Key" class="w-full p-2 mb-2 rounded-md outline-none">
            <input type="password" id="vidKey" placeholder="Video Gen API Key" class="w-full p-2 rounded-md outline-none">
            <p class="text-[10px] text-slate-500 mt-2">*Only active in Premium/Hacker Mode</p>
        </div>

        <div class="mt-auto pt-4 border-t border-slate-800">
            <button class="w-full text-left text-sm p-2 hover:bg-slate-800 rounded-lg transition text-slate-400"><i class="fa-solid fa-gear mr-3"></i>Settings</button>
        </div>
    </aside>

    <main id="mainChat">
        <div id="chatBox">
            <div class="msg-bot bubble">
                नमस्ते! मैं D-Rex AI हूँ। मैं आपकी इमेज और वीडियो बनाने में मदद कर सकता हूँ। अपनी ज़रूरत बताएं।
            </div>
        </div>

        <div class="p-4 glass border-t border-slate-800">
            <div class="max-w-4xl mx-auto flex gap-4">
                <input type="text" id="userInput" placeholder="Ask me anything or describe an image..." class="flex-1 rounded-xl px-4 py-3 outline-none">
                <button onclick="handleSend()" class="bg-indigo-600 hover:bg-indigo-500 px-6 py-2 rounded-xl transition font-bold">
                    <i class="fa-solid fa-paper-plane"></i>
                </button>
            </div>
            <div class="flex justify-center gap-4 mt-2">
                <button onclick="generateAction('image')" class="text-[11px] text-indigo-400 hover:text-white transition"><i class="fa-solid fa-image mr-1"></i> Generate Image</button>
                <button onclick="generateAction('video')" class="text-[11px] text-red-400 hover:text-white transition"><i class="fa-solid fa-video mr-1"></i> Generate Video</button>
            </div>
        </div>
    </main>

    <script>
        // --- Voice Engine ---
        let synth = window.speechSynthesis;
        let voices = [];
        const voiceList = document.getElementById('voiceList');

        function loadVoices() {
            voices = synth.getVoices();
            voiceList.innerHTML = voices
                .map((v, i) => `<option value="${i}">${v.name} (${v.lang})</option>`)
                .join('');
        }
        if (speechSynthesis.onvoiceschanged !== undefined) {
            speechSynthesis.onvoiceschanged = loadVoices;
        }

        function speak(text) {
            if (synth.speaking) synth.cancel();
            let utter = new SpeechSynthesisUtterance(text);
            utter.voice = voices[voiceList.value];
            synth.speak(utter);
        }

        // --- Core Logic ---
        const chatBox = document.getElementById('chatBox');
        const userInput = document.getElementById('userInput');

        function appendMsg(content, type = 'bot', isMedia = false) {
            const div = document.createElement('div');
            div.className = `bubble ${type === 'user' ? 'msg-user' : 'msg-bot'}`;
            div.innerHTML = content;
            chatBox.appendChild(div);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        function handleSend() {
            const text = userInput.value.trim();
            if (!text) return;
            appendMsg(text, 'user');
            userInput.value = '';
            
            // AI Response Logic
            setTimeout(() => {
                const response = "मैंने आपकी बात समझ ली है। क्या आप इसके लिए इमेज या वीडियो जेनरेट करना चाहते हैं?";
                appendMsg(response, 'bot');
                speak(response);
            }, 600);
        }

        function generateAction(type) {
            const prompt = userInput.value.trim() || "A futuristic cyberpunk city";
            const imgKey = document.getElementById('imgKey').value;
            
            appendMsg(`Generating ${type} for: <i>"${prompt}"</i>...`, 'bot');

            // Simulate API Call
            setTimeout(() => {
                if (type === 'image') {
                    const id = "img_" + Date.now();
                    const mockUrl = `https://picsum.photos/seed/${id}/600/400`;
                    
                    const html = `
                        <p class="mb-2">यहाँ आपकी इमेज है:</p>
                        <img src="${mockUrl}" class="rounded-lg border border-slate-700 mb-2">
                        <a href="${mockUrl}" download="DRex_AI_${id}.jpg" target="_blank" class="download-btn">
                            <i class="fa-solid fa-download"></i> Download Image
                        </a>
                    `;
                    appendMsg(html, 'bot');
                    speak("आपकी इमेज तैयार है।");
                } else {
                    appendMsg("Video generation (Veo) start हो गया है। प्रीमियम सर्वर पर प्रोसेसिंग जारी है।", 'bot');
                    speak("वीडियो जनरेशन शुरू हो गया है।");
                }
            }, 2000);
        }

        // Initialize voices
        loadVoices();
    </script>
</body>
</html>
